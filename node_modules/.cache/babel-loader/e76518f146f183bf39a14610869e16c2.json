{"ast":null,"code":"const initialState = {\n  products: [],\n  error: null\n};\n\nconst products = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"products/get/painding\":\n      return { ...state,\n        loadTheProducts: true,\n        error: null\n      };\n\n    case \"products/get/fulfilled\":\n      return { ...state,\n        loadTheProducts: false,\n        products: [...action.payload]\n      };\n\n    case \"products/get/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error\n      };\n\n    case \"products/add/painding\":\n      return { ...state,\n        loadTheProducts: true,\n        error: null\n      };\n\n    case \"product/add/fulfilled\":\n      return { ...state,\n        products: [...state.products, action.payload],\n        loadTheProducts: false\n      };\n\n    case \"product/add/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error\n      };\n\n    case \"products/edit/painding\":\n      return { ...state,\n        loadTheProducts: true,\n        error: null\n      };\n\n    case \"product/edit/fulfilled\":\n      return { ...state,\n        loadTheProducts: false,\n        products: [...state.products],\n        message: action.payload\n      };\n\n    case \"product/edit/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error\n      };\n\n    case \"products/delete/painding\":\n      return { ...state,\n        loadTheProducts: true,\n        error: null\n      };\n\n    case \"product/delete/fulfilled\":\n      return { ...state,\n        loadTheProducts: false,\n        products: [...state.products.filter(product => {\n          if (product._id !== action.payload) {\n            return product;\n          }\n        })]\n      };\n\n    case \"product/delete/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const getProducts = () => {\n  return async dispatch => {\n    dispatch({\n      type: \"products/get/painding\"\n    });\n\n    try {\n      const res = await fetch(\"http://localhost:4000/products\");\n      const products = await res.json();\n      dispatch({\n        type: \"products/get/fulfilled\",\n        payload: products\n      });\n    } catch (error) {\n      dispatch({\n        type: \"products/get/rejected\",\n        error: error.toString()\n      });\n    }\n  };\n};\nexport const addProduct = (image, category, name, price, oldPrice, left) => {\n  // console.log(image, category, name, price, oldPrice, left);\n  return async (dispatch, getState) => {\n    const state = getState();\n    dispatch({\n      type: \"product/add/painding\"\n    });\n\n    try {\n      const res = await fetch(\"http://localhost:4000/admin/product\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${state.application.token}`\n        },\n        body: JSON.stringify({\n          image,\n          category,\n          name,\n          price,\n          oldPrice,\n          left\n        })\n      });\n      const product = await res.json();\n      dispatch({\n        type: \"product/add/fulfilled\",\n        payload: product\n      });\n    } catch (error) {\n      dispatch({\n        type: \"products/add/rejected\",\n        error: error.toString()\n      });\n    }\n  };\n};\nexport const editProduct = (id, image, category, name, price, oldPrice, left) => {\n  return async dispatch => {\n    dispatch({\n      type: \"product/edit/painding\"\n    });\n\n    try {\n      await fetch(`http://localhost:4000/admin/product/${id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id,\n          image,\n          category,\n          name,\n          price,\n          oldPrice,\n          left\n        })\n      });\n      dispatch({\n        type: \"product/edit/fulfilled\",\n        payload: {\n          id,\n          image,\n          category,\n          name,\n          price,\n          oldPrice,\n          left\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: \"product/edit/rejected\",\n        error: error.toString()\n      });\n    }\n  };\n};\nexport const deleteProduct = id => {\n  return async dispatch => {\n    dispatch({\n      type: \"product/delete/painding\"\n    });\n\n    try {\n      const res = await fetch(`http://localhost:4000/admin/product/${id}`, {\n        method: \"DELETE\"\n      });\n      console.log(await res.json());\n      dispatch({\n        type: \"product/delete/fulfilled\",\n        payload: id\n      });\n    } catch (error) {\n      dispatch({\n        type: \"product/delete/rejected\",\n        error: error.toString()\n      });\n    }\n  };\n};\nexport default products;","map":{"version":3,"sources":["/Users/islam/intocode/newProductSait/frontForProductSait/my-app/src/redux/features/products.js"],"names":["initialState","products","error","state","action","type","loadTheProducts","payload","message","filter","product","_id","getProducts","dispatch","res","fetch","json","toString","addProduct","image","category","name","price","oldPrice","left","getState","method","headers","Authorization","application","token","body","JSON","stringify","editProduct","id","deleteProduct","console","log"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,KAAK,EAAE;AAFY,CAArB;;AAIA,MAAMD,QAAQ,GAAG,YAAkC;AAAA,MAAjCE,KAAiC,uEAAzBH,YAAyB;AAAA,MAAXI,MAAW;;AACjD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,uBAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELG,QAAAA,eAAe,EAAE,IAFZ;AAGLJ,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF,SAAK,wBAAL;AACE,aAAO,EACL,GAAGC,KADE;AAELG,QAAAA,eAAe,EAAE,KAFZ;AAGLL,QAAAA,QAAQ,EAAE,CAAC,GAAGG,MAAM,CAACG,OAAX;AAHL,OAAP;;AAKF,SAAK,uBAAL;AACE,aAAO;AACLD,QAAAA,eAAe,EAAE,KADZ;AAELJ,QAAAA,KAAK,EAAEE,MAAM,CAACF;AAFT,OAAP;;AAIF,SAAK,uBAAL;AACE,aAAO,EACL,GAAGC,KADE;AAELG,QAAAA,eAAe,EAAE,IAFZ;AAGLJ,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF,SAAK,uBAAL;AACE,aAAO,EACL,GAAGC,KADE;AAELF,QAAAA,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAV,EAAoBG,MAAM,CAACG,OAA3B,CAFL;AAGLD,QAAAA,eAAe,EAAE;AAHZ,OAAP;;AAKF,SAAK,sBAAL;AACE,aAAO;AACLA,QAAAA,eAAe,EAAE,KADZ;AAELJ,QAAAA,KAAK,EAAEE,MAAM,CAACF;AAFT,OAAP;;AAIF,SAAK,wBAAL;AACE,aAAO,EACL,GAAGC,KADE;AAGLG,QAAAA,eAAe,EAAE,IAHZ;AAILJ,QAAAA,KAAK,EAAE;AAJF,OAAP;;AAMF,SAAK,wBAAL;AACE,aAAO,EACL,GAAGC,KADE;AAELG,QAAAA,eAAe,EAAE,KAFZ;AAGLL,QAAAA,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAV,CAHL;AAILO,QAAAA,OAAO,EAAEJ,MAAM,CAACG;AAJX,OAAP;;AAMF,SAAK,uBAAL;AACE,aAAO;AACLD,QAAAA,eAAe,EAAE,KADZ;AAELJ,QAAAA,KAAK,EAAEE,MAAM,CAACF;AAFT,OAAP;;AAIF,SAAK,0BAAL;AACE,aAAO,EACL,GAAGC,KADE;AAELG,QAAAA,eAAe,EAAE,IAFZ;AAGLJ,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF,SAAK,0BAAL;AACE,aAAO,EACL,GAAGC,KADE;AAELG,QAAAA,eAAe,EAAE,KAFZ;AAGLL,QAAAA,QAAQ,EAAE,CACR,GAAGE,KAAK,CAACF,QAAN,CAAeQ,MAAf,CAAuBC,OAAD,IAAa;AACpC,cAAIA,OAAO,CAACC,GAAR,KAAgBP,MAAM,CAACG,OAA3B,EAAoC;AAClC,mBAAOG,OAAP;AACD;AACF,SAJE,CADK;AAHL,OAAP;;AAWF,SAAK,yBAAL;AACE,aAAO;AACLJ,QAAAA,eAAe,EAAE,KADZ;AAELJ,QAAAA,KAAK,EAAEE,MAAM,CAACF;AAFT,OAAP;;AAIF;AACE,aAAOC,KAAP;AA9EJ;AAgFD,CAjFD;;AAmFA,OAAO,MAAMS,WAAW,GAAG,MAAM;AAC/B,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAAC;AAAER,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMS,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAD,CAAvB;AACA,YAAMd,QAAQ,GAAG,MAAMa,GAAG,CAACE,IAAJ,EAAvB;AACAH,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,wBAAR;AAAkCE,QAAAA,OAAO,EAAEN;AAA3C,OAAD,CAAR;AACD,KAJD,CAIE,OAAOC,KAAP,EAAc;AACdW,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,uBAAR;AAAiCH,QAAAA,KAAK,EAAEA,KAAK,CAACe,QAAN;AAAxC,OAAD,CAAR;AACD;AACF,GATD;AAUD,CAXM;AAaP,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+BC,QAA/B,EAAyCC,IAAzC,KAAkD;AAC1E;AACA,SAAO,OAAOX,QAAP,EAAiBY,QAAjB,KAA8B;AACnC,UAAMtB,KAAK,GAAGsB,QAAQ,EAAtB;AACAZ,IAAAA,QAAQ,CAAC;AAAER,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMS,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAD,EAAwC;AAC7DW,QAAAA,MAAM,EAAE,MADqD;AAE7DC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,aAAa,EAAG,UAASzB,KAAK,CAAC0B,WAAN,CAAkBC,KAAM;AAF1C,SAFoD;AAM7DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEd,UAAAA,KAAF;AAASC,UAAAA,QAAT;AAAmBC,UAAAA,IAAnB;AAAyBC,UAAAA,KAAzB;AAAgCC,UAAAA,QAAhC;AAA0CC,UAAAA;AAA1C,SAAf;AANuD,OAAxC,CAAvB;AAQA,YAAMd,OAAO,GAAG,MAAMI,GAAG,CAACE,IAAJ,EAAtB;AACAH,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,uBAAR;AAAiCE,QAAAA,OAAO,EAAEG;AAA1C,OAAD,CAAR;AACD,KAXD,CAWE,OAAOR,KAAP,EAAc;AACdW,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,uBAAR;AAAiCH,QAAAA,KAAK,EAAEA,KAAK,CAACe,QAAN;AAAxC,OAAD,CAAR;AACD;AACF,GAjBD;AAkBD,CApBM;AAsBP,OAAO,MAAMiB,WAAW,GAAG,CACzBC,EADyB,EAEzBhB,KAFyB,EAGzBC,QAHyB,EAIzBC,IAJyB,EAKzBC,KALyB,EAMzBC,QANyB,EAOzBC,IAPyB,KAQtB;AACH,SAAO,MAAOX,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAAC;AAAER,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMU,KAAK,CAAE,uCAAsCoB,EAAG,EAA3C,EAA8C;AACvDT,QAAAA,MAAM,EAAE,OAD+C;AAEvDC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAF8C;AAKvDI,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBE,UAAAA,EADmB;AAEnBhB,UAAAA,KAFmB;AAGnBC,UAAAA,QAHmB;AAInBC,UAAAA,IAJmB;AAKnBC,UAAAA,KALmB;AAMnBC,UAAAA,QANmB;AAOnBC,UAAAA;AAPmB,SAAf;AALiD,OAA9C,CAAX;AAeAX,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAE,wBADC;AAEPE,QAAAA,OAAO,EAAE;AAAE4B,UAAAA,EAAF;AAAMhB,UAAAA,KAAN;AAAaC,UAAAA,QAAb;AAAuBC,UAAAA,IAAvB;AAA6BC,UAAAA,KAA7B;AAAoCC,UAAAA,QAApC;AAA8CC,UAAAA;AAA9C;AAFF,OAAD,CAAR;AAID,KApBD,CAoBE,OAAOtB,KAAP,EAAc;AACdW,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,uBAAR;AAAiCH,QAAAA,KAAK,EAAEA,KAAK,CAACe,QAAN;AAAxC,OAAD,CAAR;AACD;AACF,GAzBD;AA0BD,CAnCM;AAqCP,OAAO,MAAMmB,aAAa,GAAID,EAAD,IAAQ;AACnC,SAAO,MAAOtB,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAAC;AAAER,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMS,GAAG,GAAG,MAAMC,KAAK,CAAE,uCAAsCoB,EAAG,EAA3C,EAA8C;AACnET,QAAAA,MAAM,EAAE;AAD2D,OAA9C,CAAvB;AAGAW,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAMxB,GAAG,CAACE,IAAJ,EAAlB;AACAH,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,0BAAR;AAAoCE,QAAAA,OAAO,EAAE4B;AAA7C,OAAD,CAAR;AACD,KAND,CAME,OAAOjC,KAAP,EAAc;AACdW,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,yBAAR;AAAmCH,QAAAA,KAAK,EAAEA,KAAK,CAACe,QAAN;AAA1C,OAAD,CAAR;AACD;AACF,GAXD;AAYD,CAbM;AAeP,eAAehB,QAAf","sourcesContent":["const initialState = {\n  products: [],\n  error: null,\n};\nconst products = (state = initialState, action) => {\n  switch (action.type) {\n    case \"products/get/painding\":\n      return {\n        ...state,\n        loadTheProducts: true,\n        error: null,\n      };\n    case \"products/get/fulfilled\":\n      return {\n        ...state,\n        loadTheProducts: false,\n        products: [...action.payload],\n      };\n    case \"products/get/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error,\n      };\n    case \"products/add/painding\":\n      return {\n        ...state,\n        loadTheProducts: true,\n        error: null,\n      };\n    case \"product/add/fulfilled\":\n      return {\n        ...state,\n        products: [...state.products, action.payload],\n        loadTheProducts: false,\n      };\n    case \"product/add/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error,\n      };\n    case \"products/edit/painding\":\n      return {\n        ...state,\n\n        loadTheProducts: true,\n        error: null,\n      };\n    case \"product/edit/fulfilled\":\n      return {\n        ...state,\n        loadTheProducts: false,\n        products: [...state.products],\n        message: action.payload,\n      };\n    case \"product/edit/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error,\n      };\n    case \"products/delete/painding\":\n      return {\n        ...state,\n        loadTheProducts: true,\n        error: null,\n      };\n    case \"product/delete/fulfilled\":\n      return {\n        ...state,\n        loadTheProducts: false,\n        products: [\n          ...state.products.filter((product) => {\n            if (product._id !== action.payload) {\n              return product;\n            }\n          }),\n        ],\n      };\n    case \"product/delete/rejected\":\n      return {\n        loadTheProducts: false,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const getProducts = () => {\n  return async (dispatch) => {\n    dispatch({ type: \"products/get/painding\" });\n    try {\n      const res = await fetch(\"http://localhost:4000/products\");\n      const products = await res.json();\n      dispatch({ type: \"products/get/fulfilled\", payload: products });\n    } catch (error) {\n      dispatch({ type: \"products/get/rejected\", error: error.toString() });\n    }\n  };\n};\n\nexport const addProduct = (image, category, name, price, oldPrice, left) => {\n  // console.log(image, category, name, price, oldPrice, left);\n  return async (dispatch, getState) => {\n    const state = getState();\n    dispatch({ type: \"product/add/painding\" });\n    try {\n      const res = await fetch(\"http://localhost:4000/admin/product\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${state.application.token}`,\n        },\n        body: JSON.stringify({ image, category, name, price, oldPrice, left }),\n      });\n      const product = await res.json();\n      dispatch({ type: \"product/add/fulfilled\", payload: product });\n    } catch (error) {\n      dispatch({ type: \"products/add/rejected\", error: error.toString() });\n    }\n  };\n};\n\nexport const editProduct = (\n  id,\n  image,\n  category,\n  name,\n  price,\n  oldPrice,\n  left\n) => {\n  return async (dispatch) => {\n    dispatch({ type: \"product/edit/painding\" });\n    try {\n      await fetch(`http://localhost:4000/admin/product/${id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          id,\n          image,\n          category,\n          name,\n          price,\n          oldPrice,\n          left,\n        }),\n      });\n      dispatch({\n        type: \"product/edit/fulfilled\",\n        payload: { id, image, category, name, price, oldPrice, left },\n      });\n    } catch (error) {\n      dispatch({ type: \"product/edit/rejected\", error: error.toString() });\n    }\n  };\n};\n\nexport const deleteProduct = (id) => {\n  return async (dispatch) => {\n    dispatch({ type: \"product/delete/painding\" });\n    try {\n      const res = await fetch(`http://localhost:4000/admin/product/${id}`, {\n        method: \"DELETE\",\n      });\n      console.log(await res.json());\n      dispatch({ type: \"product/delete/fulfilled\", payload: id });\n    } catch (error) {\n      dispatch({ type: \"product/delete/rejected\", error: error.toString() });\n    }\n  };\n};\n\nexport default products;\n"]},"metadata":{},"sourceType":"module"}